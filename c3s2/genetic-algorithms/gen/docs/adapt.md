{% include mathjax %}

## Adapt

### Призначення

Генерирує масив $$N$$ цілих невід'ємних чисел, сума яких дорівнює $$N$$. 

Кожне значення з номером $$j$$ масиву обчислюється як кількість потраплянь випадкового числа рівномірно розподіленого на відрізку $$[0..1]$$ у підінтервал з номером $$1 \le j \le N$$, що належить відрізну $$[0..1]$$. 

Сума довжин всіх підінтервалів дорівнює одиниці.

### Вхідні параметри

- $$p$$ &mdash; послідовність $$N$$ дійсних чисел;

- $$N$$ &mdash; ціле додатнє число.

### Вихідні параметри

- $$\text{num}$$ &mdash; масив $$N$$ цілих невід'ємних чисел, сума яких дорівнює $$N$$.

### Обчислення

- Перетворюємо послідовнітсь $$p$$:

	- Знаходимо мінимальний елемент $$p$$.

	- Віднімаємо від кожного елемента $$p$$ мінімальний елемент, утворюємо $$p_1$$.

- Знаходимо суму всіх елементів $$p_1$$;

- Ділимо кожен елемент $$p_1$$ на суму значень його елементів, утворюємо $$p_2$$.

- Утворюємо список префіксних сум $$p_2$$:
	
	$$
	\text{adaptability} = [0, p_2[1], p_2[1] + p_2[2], \ldots, p_2[1] + p_2[2] + \ldots + p_2[N]].
	$$

- $$N$$ разів генеруємо випадкове число $$0 \le \text{roll} < 1$$ і перевіряємо умову належності випадкового числа $$\text{roll}$$ одному з діапазонів списку $$\text{adaptability}$$:

	- Якщо $$\text{adaptability}[j] \le \text{roll} < \text{adaptability}[j + 1]$$, то $$\text{num}[j] = \text{num}[j] + 1$$.

### Вказівки

Для генерування випадкових чисел з заданого діапазону можна використовувати функцію Generate з пакету Random Tools.

[Назад до лаби](../README.md)

[Назад на головну](../../README.md)